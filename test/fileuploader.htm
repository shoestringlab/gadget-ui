<!doctype html>
<html>

<head>
	<title>gadget-ui File Uploader Test</title>

	<link rel="stylesheet" href="/dist/gadget-ui.css"/>
	<script type="module">
		import {fileuploader,constructor} from '/dist/gadget-ui.mjs';

		var showFile = function( fileItem, div ){
			var dsp = document.querySelector( "#display" );
			dsp.innerHTML = '';
			var img = document.createElement( "img" );
			img.style.width = '500px';
			img.src = "/test/upload/" + fileItem.filename;
			dsp.appendChild( img );
		};

		var options = {
		  uploadURI: "/test/fileuploader.upload.cfm",
		  tags: "file upload",
		  willGenerateThumbnails: true,
		  title: "Upload Files",
		  showUploadButton: false,
			onUploadComplete: showFile
		};

		var options2 = {
			uploadURI: "/upload",
			tags: "file upload",
			willGenerateThumbnails: true,
			title: "Upload Files",
			showUploadButton: false,
			showDropZone: true,
			onUploadComplete: showFile
		};

		var options3 = {
			uploadURI: "/upload",
			tags: "file upload",
			willGenerateThumbnails: true,
			title: "Upload Files",
			showUploadButton: false,
			showDropZone: false,
			showUploadIcon: true,
			uploadIcon: '/lib/feather-icons/dist/feather-sprite.svg#image',
			onUploadComplete: showFile,
			uploadClass: 'feather'
		};

		var filedialog = constructor( fileuploader, [ document.querySelector("#fileUploadDiv"), options ]);

		var filedialog2 = constructor( fileuploader, [ document.querySelector("#fileUploadDiv2"), options2 ]);
		var filedialog3 = constructor( fileuploader, [ document.querySelector("#fileUploadDiv3"), options3 ]);
	</script>

	<style>
		body {
			font-size: 1em;
		}

		input,
		select,
		select option {
			font-size: 1em;
		}

		div[name='gadgetui-fileuploader-dropzone']{
			height: 300px;
			width: 300px;
			text-align: center;
			margin-top: auto;
			margin-bottom: auto;
			border: 1px solid black;
		}

		.gadgetui-fileuploader-wrapper{
			height:300px;
		}

		#fileUploadDiv, #display,	#fileUploadDiv{
			display:inline-block;
		}

		.gadgetui-fileuploader-uploadIcon{
			height: 40px;
			width: 40px;
		}
	</style>

</head>

<body>
	<p>Test the FileUploader control.</p>
	This uploader works under the CFML engine and fails under NodeJS so you can test both success and failure.
	<br>
	<div id="fileUploadDiv"></div>
	<div id="display"></div>
	<br>
	<br>
	This uploader works under NodeJS and fails under the CFML engine so you can test both success and failure.
	<div id="fileUploadDiv2"></div>
	<br>
	<br>
	This uploader works under NodeJS and uses the file upload icon rather than a dropzone or file input.
	<div id="fileUploadDiv3"></div>
</body>

</html>
